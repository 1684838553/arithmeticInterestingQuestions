### 基本位运算符号

1. & 与，将两个二进制数按位相与，只有同时为 1 结果才为 1

2. | 或，将两个二进制数按位相或，只要至少有一个为 1 则结果为 1

3. ^ 异或，将两个二进制数按位相异或，只有两个位相异结果才为 1，两个位同为 1 或同为 0 结果为 0

`<< 有符号左移 <<< 无符号左移`

`>> 有符号右移 >>> 无符号右移`

**解释：**

<font color="red">`n = n & (n - 1)可以去掉n二进制的最右边的一个1，可以用来统计1的数量那么1的数量就是答案`</font>

[JS 笔记 位运算符之左移、右移（有符号、无符号）](https://blog.csdn.net/qq_39635317/article/details/124627733)

1. a^b 相当于无进位求和，比如 1^9=8 （1001 ^ 0001 = 1000 `同位的值不同结果为1，否则为0`），这里的第一位（最右位）如果是正常求和，则 1+1 应该进一位到第二位，但它无视掉了进位的结果。

2. （a&b）<< 1 相当于求每一位的进位数，比如（1&9）<< 1 = 2 （（1001 & 0001 `同时为1，结果为1，否则为0`）<< 1 = 0010），刚刚好得到的就是 a^b 过程中被无视掉的那些进位（本例只涉及一处进位）。

3. 所以 add((a^b),(a&b) << 1) 就相当于 (a^b) + (a&b) << 1，将 两个数无进位求和结果 + 每一次求和得到的进位 。

上述代码就是在不断重复这个过程，直到进位数为 0 为止，则得到结果。

4. 此外，注意 << 是有符号左移，下面举个例子方便理解。

   ```
   比如 1 + （-2）求和。

   1 ^ （-2）等价于 0001 ^ 1110 = 1111

   1 & （-2）<< 1 等价于 （0001 & 1110） << 1 = 0

   所以当第一次运算结果传入 add 函数时，因为此时 b 形参已经等于 0，所以返回 1111 即 -1 （符号位从哪里开始应该底层有记录）
   ```
